<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Explore | Substack</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<div class="container py-5">

    <h2 class="mb-4 fw-bold">Explore</h2>

    <!-- Trending Posts -->
    <h4 class="mt-5">Trending Posts</h4>
    <div th:if="${trending.isEmpty()}">
        <p>No trending posts available.</p>
    </div>

    <div th:each="post : ${trending}" class="card mb-3 p-3">
        <h5 th:text="${post.title}"></h5>
        <p class="text-muted" th:text="${post.author.name}"></p>
        <a class="btn btn-primary btn-sm" th:href="@{/posts/view/{id}(id=${post.id})}">Read</a>
    </div>

    <!-- Popular Authors -->
    <h4 class="mt-5">Popular Authors</h4>
    <div th:if="${topAuthors.isEmpty()}">
        <p>No authors found.</p>
    </div>

    <div th:each="u : ${topAuthors}" class="card mb-3 p-3 d-flex flex-row align-items-center">
        <div class="me-3" style="font-size: 24px;">ðŸ‘¤</div>
        <div>
            <h6 th:text="${u.name}"></h6>
            <a th:href="@{/user/{id}(id=${u.id})}" class="btn btn-outline-secondary btn-sm mt-1">View Profile</a>
        </div>
    </div>

    <!-- Publications -->
    <h4 class="mt-5">Top Publications</h4>
    <div th:if="${publications.isEmpty()}">
        <p>No publications available.</p>
    </div>

    <div th:each="pub : ${publications}" class="card mb-3 p-3">
        <h5 th:text="${pub.name}"></h5>
        <p class="text-muted" th:text="${pub.owner.name}"></p>
        <a th:href="@{/publications/{slug}(slug=${pub.slug})}" class="btn btn-primary btn-sm">View Publication</a>
    </div>

</div>
</body>
</html>
